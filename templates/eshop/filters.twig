<div class="eshop-filters mb-4 mb-md-0">
  <button
    class="btn btn-blue d-md-none"
    type="button"
    data-toggle="collapse"
    href="#filtersCollapse"
    role="button"
    aria-expanded="false"
    aria-controls="filtersCollapse"
  >
    Zobrazit filtry
  </button>

  <div class="collapse d-md-block" id="filtersCollapse">
    <div class="mt-3 mt-md-0">

      <p class="h5 h-heavy">O co máte zájem?</p>

      {% for index, choice in type_choices %}
        <div class="custom-control custom-checkbox">
          <input
            class="custom-control-input"
            type="checkbox"
            value="{{ index }}"
            id="filterType{{ index }}"
            name="type[]"
            {{ index in checked_types ? 'checked' }}
          >
          <label class="custom-control-label" for="filterType{{ index }}">
            {{ choice }}
          </label>
        </div>
      {% endfor %}

      <div class="eshop-filters-divider"></div>

      <p class="h5 h-heavy">Kategorie</p>

      {% for term in all_categories %}
        <div class="custom-control custom-checkbox">
          <input
            class="custom-control-input"
            type="checkbox"
            value="{{ term.id }}"
            id="filterCategory{{ term.id }}"
            name="category[]"
            {{ term.id in checked_categories ? 'checked' }}
          >
          <label class="custom-control-label" for="filterCategory{{ term.id }}">
            {{ term.name }}
            <span class="text-semilight">({{ term.count }})</span>
          </label>
        </div>
      {% endfor %}

      <div class="eshop-filters-divider"></div>

      <p class="h5 h-heavy mb-0">Cena</p>
      <p class="small mb-3">Při prodeji a bez DPH</p>

      <div class="no-ui-slider-container">
        <div class="mb-3" id="filterPrice"></div>
      </div>
      <div class="d-flex w-100 align-items-center justify-content-between">
        <div class="eshop-filters-range-field-min">
          <input
            type="hidden"
            name="price_min"
            id="filterPriceInputMin"
            value="{{ price_start[0] }}"
          >
          <input
            class="form-control form-control-sm"
            type="text"
            id="filterPriceIndicatorMin"
            value="{{ price_start[0] }}"
          >
        </div>
        <span class="small text-muted mx-1">až</span>
        <div class="eshop-filters-range-field-max">
          <input
            type="hidden"
            name="price_max"
            id="filterPriceInputMax"
            value="{{ price_start[1] }}"
          >
          <input
            class="form-control form-control-sm"
            type="text"
            id="filterPriceIndicatorMax"
            value="{{ price_start[1] }}"
          >
        </div>
        <span class="small text-muted ml-1">Kč</span>
      </div>

      <div class="eshop-filters-divider"></div>

      <p class="h5 h-heavy mb-0">Obrat</p>
      <p class="small mb-3">Za poslední rok</p>

      <div class="no-ui-slider-container">
        <div class="mb-3" id="filterTurnover"></div>
      </div>
      <div class="d-flex w-100 align-items-center justify-content-between">
        <div class="eshop-filters-range-field-min">
          <input
            type="hidden"
            name="turnover_min"
            id="filterTurnoverInputMin"
            value="{{ turnover_start[0] }}"
          >
          <input
            class="form-control form-control-sm"
            type="text"
            id="filterTurnoverIndicatorMin"
            value="{{ turnover_start[0] }}"
          >
        </div>
        <span class="small text-muted mx-1">až</span>
        <div class="eshop-filters-range-field-max">
          <input
            type="hidden"
            name="turnover_max"
            id="filterTurnoverInputMax"
            value="{{ turnover_start[1] }}"
          >
          <input
            class="form-control form-control-sm"
            type="text"
            id="filterTurnoverIndicatorMax"
            value="{{ turnover_start[1] }}"
          >
        </div>
        <span class="small text-muted ml-1">Kč</span>
      </div>

      <div class="eshop-filters-divider"></div>

      <p class="h5 h-heavy mb-0">Návštěvnost</p>
      <p class="small mb-3">Za poslední rok</p>

      <div class="no-ui-slider-container">
        <div class="mb-4" id="filterTraffic"></div>
      </div>
      <div class="d-flex w-100 align-items-center justify-content-between">
        <div class="eshop-filters-range-field-min">
          <input
            type="hidden"
            name="traffic_min"
            id="filterTrafficInputMin"
            value="{{ traffic_start[0] }}"
          >
          <input
            class="form-control form-control-sm"
            type="text"
            id="filterTrafficIndicatorMin"
            value="{{ traffic_start[0] }}"
          >
        </div>
        <span class="small text-muted mx-1">až</span>
        <div class="eshop-filters-range-field-max">
          <input
            type="hidden"
            name="traffic_max"
            id="filterTrafficInputMax"
            value="{{ traffic_start[1] }}"
          >
          <input
            class="form-control form-control-sm"
            type="text"
            id="filterTrafficIndicatorMax"
            value="{{ traffic_start[1] }}"
          >
        </div>
        <span class="small text-muted ml-1">UN</span>
      </div>

      <div class="eshop-filters-divider"></div>

      <p class="h5 h-heavy mb-0">Stáří</p>
      <p class="small mb-2">Od spuštění</p>

      {% for index, choice in age_choices %}
        <div class="custom-control custom-checkbox">
          <input
            class="custom-control-input"
            type="checkbox"
            value="{{ index }}"
            id="filterAge{{ index }}"
            name="age[]"
            {{ index in checked_ages ? 'checked' }}
          >
          <label class="custom-control-label" for="filterAge{{ index }}">
            {{ choice }}
          </label>
        </div>
      {% endfor %}

      <div class="eshop-filters-divider"></div>

      <a class="small" role="button" href="{{ archive_link }}">
        <span class="iconholder text-muted"><i class="fas fa-times" aria-hidden></i></span>
        Zrušit filtry
      </a>

      <button type="submit" class="btn btn-primary btn-block" id="filterSubmit">Filtrovat</button>

    </div>
  </div>
</div>
